---
layout: post
title: 怎样屏蔽恶心的方正宽带植入广告
tags:
  - misc
---

之前一直用方正宽带，前一年其实倒没发现会植入广告（右下角弹窗广告），
续费一年后，广告出来了，因为不是很频繁，所以想想也就算了，小运营商也是为了多挣点钱；
谁让咱贪便宜呢！

后来换了宽带通，用了 5 个月，貌似还真没有广告，只是不知道是不是和方正一样，
前期养羊期间，可能没有广告。

上个月又换回方正宽带了，一次性买了 4 年，下来不到 2000 块钱，应该是最便宜的了。

用了不到一个月，这广告频繁的啊，简直不能忍了，大部分网站都会弹出广告，除了 BAT
主站这种对页面做个处理的，否则都会被植入广告，不过，淘宝和天猫的商品页面，
一样没能逃脱。

这简直就没法用了，疯狂的，**广告居然有声音**，还不是那种简单的直接弹窗，默默无闻型的。

而且，非常关键的是：有时候没有弹窗，却依然有声音，明显在播放视频广告，
但是却没有显示视频，只能听到声音，真是够不要脸的。

用浏览器打开一个网站，能够听到播放广告，打开 chrome 浏览器的
developer tools（打开方式：在浏览器页面中点击鼠标右键，选择 inspect），
如下图所示：

![developer tools](/assets/images/founderbn/google-chrome-developer-tools.png)

打开后，可以看到网页 `<boxy>` 的末端添加了一个 `<div>`，并且里面植入了一个 `<iframe>`，

如下图所示：

![div](/assets/images/founderbn/founderbn-injected-code.png)

注意上图中的两个红色边框，左下角的为植入的代码，右上角其实为浏览器的右下角，
即为广告显示的位置，很显然，这个广告框的尺寸被设置成了宽 1px，高 19px；重点是 1px 的宽，
根本就看不到！

这也是为什么只能听见声音，却看不到图像的原因，而且，更流氓的是，这样，你连关闭广告框的按钮都没法点！

下面来验证下：

在 developer tools 中编辑，删除该 `<div>`，广告立即没有了。

再来一次，这次不要删除 `<div>`，而是打开 `<iframe>` 中的元素，一直找到 `src`，如下所示：

![find src](/assets/images/founderbn/find-iframe-src.png)

用浏览器打开这个地址：http://114.215.114.158/v20160901-5.HTML，居然是腾讯视频的综艺节目！

![ads](/assets/images/founderbn/ads.png)

这个节目广告 60s，并且，重要的是：广告播完了还会继续播，并不会停止！

也是醉了，不知道背后是什么关系，居然让用户去帮腾讯视频刷 PV？刷广告？

查了一下这个 IP，居然是阿里云的 IP

![ip](/assets/images/founderbn/ip.png)


不知道是不是流氓已经用上云服务了，那感觉 IP 可能有点难禁止，先不管了，登陆路由器，打开防火墙，
将这个 IP 添加到阻止列表中。

![router configure](/assets/images/founderbn/router-configure.png)

保存路由配置，世界暂时清净了！
